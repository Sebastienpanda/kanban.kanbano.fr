@if (isOpen()) {
  <div class="modal modal-open">
    <div class="modal-box">
      <div class="flex items-center justify-between mb-4">
        <h3 class="font-bold text-lg">Nouvelle tâche</h3>
        <button (click)="onClose()" class="btn btn-sm btn-ghost btn-circle" type="button">
          <lucide-icon [img]="XIcon" [size]="18"></lucide-icon>
        </button>
      </div>

      <div class="form-control w-full mb-4">
        <label class="label">
          <span class="label-text">Titre de la tâche</span>
        </label>
        <input
          (keyup.enter)="onKeyEnter()"
          [(ngModel)]="taskTitle"
          class="input input-bordered w-full"
          placeholder="Entrez le titre de la tâche"
          type="text"
        />
      </div>

      <div class="form-control w-full mb-6">
        <label class="label">
          <span class="label-text">Colonne</span>
        </label>
        <select
          [ngModel]="currentColumnId()"
          (ngModelChange)="currentColumnId.set($event)"
          class="select select-bordered w-full"
        >
          @for (column of columns(); track column.id) {
            <option [ngValue]="column.id">{{ column.title }}</option>
          }
        </select>
      </div>

      <div class="modal-action">
        <button (click)="onClose()" class="btn btn-ghost" type="button">Annuler</button>
        <button (click)="onSubmit()" [disabled]="!taskTitle().trim()" class="btn btn-primary" type="button">
          <lucide-icon [img]="PlusIcon" [size]="16"></lucide-icon>
          Ajouter
        </button>
      </div>
    </div>
    <div (click)="onClose()" class="modal-backdrop"></div>
  </div>
}
